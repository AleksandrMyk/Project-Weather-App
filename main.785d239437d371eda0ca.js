(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"++so":function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var r,i=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div id="+s("function"==typeof(r=null!=(r=l(n,"name")||(null!=t?l(t,"name"):t))?r:c)?r.call(i,{name:"name",hash:{},data:o,loc:{start:{line:1,column:8},end:{line:1,column:16}}}):r)+' class="btn-wrapper"><span class="added-city">'+s("function"==typeof(r=null!=(r=l(n,"name")||(null!=t?l(t,"name"):t))?r:c)?r.call(i,{name:"name",hash:{},data:o,loc:{start:{line:1,column:62},end:{line:1,column:70}}}):r)+'</span><button class="cross-btn"\r\n        data-id='+s("function"==typeof(r=null!=(r=l(n,"name")||(null!=t?l(t,"name"):t))?r:c)?r.call(i,{name:"name",hash:{},data:o,loc:{start:{line:2,column:16},end:{line:2,column:24}}}):r)+"></button>\r\n</div>"},useData:!0})},"7wDS":function(e,t,n){},"B/zZ":function(e,t,n){},DXcT:function(e,t,n){},QfWi:function(e,t,n){"use strict";n.r(t);n("DXcT"),n("B/zZ"),n("7wDS"),n("JBxO"),n("FdtR");var a=function(e){return fetch("https://api.openweathermap.org/data/2.5/weather?q="+e+"&units=metric&appid=51a63d6e6f44d74434ee7d0893876caf").then((function(e){return e.json()}))},o=(n("RtS0"),n("IvQZ"),n("uQK7"),n("8cZI"),n("lmye"),n("Xlt+"),n("D/wG"),n("ZEAQ"),n("JjHl"),n("e+qc"),n("3dw1"),n("zrP5"),n("JauC"),n("bzha"),n("++so")),r=n.n(o);function i(e){return fetch("https://corona.lmao.ninja/v2/countries/"+e).then((function(e){return e.json()})).then((function(e){!function(e){c.country.textContent=""+e.country,c.sickNow.textContent=""+e.active,c.todayCases.textContent=""+e.todayCases,c.todayRecovered.textContent=""+e.todayRecovered,c.todayDeaths.textContent=""+e.todayDeaths,c.totalCases.textContent=""+e.cases,c.recovered.textContent=""+e.recovered,c.deaths.textContent=""+e.deaths}(e)}))}var c={country:document.querySelector(".covidCountry"),sickNow:document.querySelector(".sickNow"),todayCases:document.querySelector(".todayCases"),todayRecovered:document.querySelector(".todayRecovered"),todayDeaths:document.querySelector(".todayDeaths"),totalCases:document.querySelector(".totalCases"),recovered:document.querySelector(".recovered"),deaths:document.querySelector(".deaths")};var s={query:"",key:"16836748-77bdb9d8e6a7ff11ccb0a1780",fetchBgImage:function(e){return fetch("https://pixabay.com/api/?image_type=photo&orientation=horizontal&category=places,buildings&q="+e+"&key="+this.key).then((function(e){return e.json()}))},get searchQuery(){return this.query},set searchQuery(e){this.query=e}},l=n("QJ3N");function u(e){return fetch("https://api.openweathermap.org/data/2.5/forecast?q="+e+"&units=metric&appid=51a63d6e6f44d74434ee7d0893876caf").then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}var m=n("qlKC"),d=n.n(m),y={CCName:document.querySelector(".cityName"),input:document.querySelector(".main-input"),modal:document.querySelector(".list-modal"),days:document.querySelector(".list--days"),modalLink:document.querySelectorAll(".more-info")};function p(e){e.list;var t={},n=e.city.name+", "+e.city.country;for(var a in y.CCName.textContent=n,e.list.forEach((function(e){var n=new Date(1e3*e.dt);y.days.textContent="",n.getDay(),(new Date).getDay();var a=n.toLocaleDateString("en-US",{weekday:"long"});void 0===t[a]?t[a]={name:a,date:n.getDate()+" "+n.toLocaleDateString("en-US",{month:"short"}),icon:"http://openweathermap.org/img/wn/"+e.weather[0].icon+"@2x.png",min:e.main.temp_min.toFixed(0),max:e.main.temp_max.toFixed(0)}:(t[a].min=t[a].min>e.main.temp_min?e.main.temp_min.toFixed(0):t[a].min,t[a].max=t[a].max<e.main.temp_max?e.main.temp_max.toFixed(0):t[a].max)})),t)y.days.insertAdjacentHTML("beforeend",d()(t[a]))}var g=new BDCReverseGeocode,h=n("jffb"),f=!1;function w(e){f=!0,u(e.target.value).then((function(e){p(e);e.list[1].main.temp,e.list[2].main.temp,e.list[3].main.temp,e.list[4].main.temp,e.list[5].main.temp,e.list[1].main.humidity,e.list[2].main.humidity,e.list[3].main.humidity,e.list[4].main.humidity,e.list[5].main.humidity,e.list[1].wind.speed,e.list[2].wind.speed,e.list[3].wind.speed,e.list[4].wind.speed,e.list[5].wind.speed,e.list[1].main.pressure,e.list[2].main.pressure,e.list[3].main.pressure,e.list[4].main.pressure,e.list[5].main.pressure,e.list[1].dt_txt,e.list[2].dt_txt,e.list[3].dt_txt,e.list[4].dt_txt,e.list[5].dt_txt}))}f?w():g.getClientLocation((function(e){u(e.localityInfo.administrative[1].name).then((function(e){p(e)}))})),y.input.addEventListener("input",h(w,1e3));var v,S=n("jffb"),x={body:document.querySelector("body"),input:document.querySelector(".main-input"),citiesMemory:document.querySelector(".added-city"),deleteCityBtn:document.querySelector(".cross-btn"),saveCityBtn:document.querySelector(".save-btn"),citiesContainer:document.querySelector(".favorit"),weatherContainerLocation:document.querySelector(".city"),weatherCity:document.getElementById("weather_city"),currentTemp:document.getElementById("weather_temp"),minTemp:document.getElementById("weather-min_temp"),todayBTN:document.querySelector(".todayBTN"),daysBTN:document.querySelector(".daysBTN"),maxTemp:document.getElementById("weather-max_temp"),weatherIcon:document.getElementById("weather_icon"),currentDate:document.getElementById("date"),currentDay:document.getElementById("day"),currentMonth:document.getElementById("month"),currentTimeHr:document.getElementById("current-time-hr"),currentTimeMin:document.getElementById("current-time-min"),sunrise:document.getElementById("sunrise"),sunset:document.getElementById("sunset")},C=new BDCReverseGeocode;function I(e){s.fetchBgImage(e).then((function(e){e.hits[B()].largeImageURL,x.body.style.backgroundImage="url("+e.hits[B()].largeImageURL+")"}))}window.addEventListener("load",(function(){C.getClientLocation((function(e){s.searchQuery=e.localityInfo.administrative[1].name,I(s.searchQuery),a(e.localityInfo.administrative[1].name).then((function(e){i(Object.values(e.sys.country).join(""));var t=e.coord.lon,n=e.coord.lat,a=new google.maps.Map(document.getElementById("map"),{center:new google.maps.LatLng(n,t),mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:11}),o=((new Date).getTime(),new google.maps.ImageMapType({getTileUrl:function(e,t){return"https://tiles.aqicn.org/tiles/usepa-aqi/"+t+"/"+e.x+"/"+e.y+".png?token=_TOKEN_ID_"},name:"Air  Quality"}));a.overlayMapTypes.insertAt(0,o),{name:e.name,html:r()(e)},E(e)})).catch((function(e){Object(l.error)({delay:2e3,maxTextHeight:null,text:"CAN'T FIND YOUR REQUEST. PLEASE TRY AGAIN."})}))}))}));var T=JSON.parse(localStorage.getItem("Cities")),q=[],b={findedCities:q,storedCities:T};null!==T&&T.forEach((function(e){v=e,D()}));function D(){x.saveCityBtn.classList.add("starred"),setTimeout((function(){x.saveCityBtn.classList.remove("starred")}),250);var e=v;if(e&&!q.includes(e)){q.push(e),q.length>=7&&q.splice(0,1);var t=q.map((function(e){return"\n        <div id="+e+' class="btn-wrapper">\n          <span class="added-city">'+e+'</span>\n          <button class="cross-btn" data-id='+e+"></button>\n        </div>"})).join("");x.citiesContainer.innerHTML=t,x.input.value="",localStorage.setItem("Cities",JSON.stringify(q))}}function E(e){if(200===e.cod){var t="http://openweathermap.org/img/wn/"+e.weather[0].icon+"@2x.png",n=new Date(1e3*e.dt);x.weatherIcon.src=t,x.weatherIcon.classList.add("visible"),x.weatherCity.textContent=e.name+", "+e.sys.country,x.currentTemp.textContent=""+e.main.temp.toFixed(1),x.minTemp.textContent=""+e.main.temp_min.toFixed(1),x.maxTemp.textContent=""+e.main.temp_max.toFixed(1),x.currentDate.textContent=n.getDate(),x.currentDay.textContent=n.toLocaleDateString("en-US",{weekday:"short"}),x.currentMonth.textContent=n.toLocaleDateString("en-US",{month:"long"}),x.currentTimeHr.textContent=String(n.getHours()).padStart(2,0)+":",x.currentTimeMin.textContent=String(n.getMinutes()).padStart(2,0),x.sunrise.textContent=String(new Date(1e3*e.sys.sunrise).getHours()).padStart(2,0)+":"+String(new Date(1e3*e.sys.sunrise).getMinutes()).padStart(2,0),x.sunset.textContent=String(new Date(1e3*e.sys.sunset).getHours()).padStart(2,0)+":"+String(new Date(1e3*e.sys.sunset).getMinutes()).padStart(2,0)}}function B(e,t){return 1,20,Math.floor(19*Math.random())+1}x.input.addEventListener("input",S((function(e){var t=e.target.value;a(t).then((function(e){i(Object.values(e.sys.country).join(""));var t=e.coord.lon,n=e.coord.lat,a=new google.maps.Map(document.getElementById("map"),{center:new google.maps.LatLng(n,t),mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:11}),o=((new Date).getTime(),new google.maps.ImageMapType({getTileUrl:function(e,t){return"https://tiles.aqicn.org/tiles/usepa-aqi/"+t+"/"+e.x+"/"+e.y+".png?token=_TOKEN_ID_"},name:"Air  Quality"}));a.overlayMapTypes.insertAt(0,o),200!==e.cod||q.includes(e.name)?null:(x.saveCityBtn.classList.remove("starred"),s.searchQuery=e.name,I(s.searchQuery),v=e.name,{name:e.name,html:r()(e)},E(e))})).catch((function(e){Object(l.error)({delay:2e3,maxTextHeight:null,text:"CAN'T FIND YOUR REQUEST. PLEASE TRY AGAIN."})}))}),1500)),x.saveCityBtn.addEventListener("click",D),document.addEventListener("click",(function(e){if(e.target&&"cross-btn"===e.target.className){var t=e.target.dataset.id;document.getElementById(t).remove(),q.splice(q.indexOf(t),1),T.splice(T.indexOf(t),1),console.log(T),localStorage.setItem("Cities",JSON.stringify(T))}})),document.addEventListener("click",(function(e){if("added-city"!==e.target.className)return;var t=e.target.textContent;s.searchQuery=t,x.input.value="",I(s.searchQuery),a(t).then((function(e){var t=Object.values(e.sys.country).join("");i(t),I(t),E(e),s.searchQuery=e.name,{name:e.name,html:r()(e)}})),u(t).then((function(e){p(e)}))})),x.daysBTN.addEventListener("click",(function(){document.querySelector(".weather-container").classList.add("toright"),document.querySelector(".bottom-containers-wrapper").classList.add("tobottom"),setTimeout((function(){document.querySelector(".weather-container").style="display: none",document.querySelector(".bottom-containers-wrapper").style="display:none",document.querySelector(".modal").style="display: block"}),1050),setTimeout((function(){document.querySelector(".modal").classList.remove("modalEffects")}),1051)})),x.todayBTN.addEventListener("click",(function(){document.querySelector(".modal").classList.add("modalEffects"),document.querySelector(".modal").style="display: none",document.querySelector(".weather-container").style="display: flex",document.querySelector(".bottom-containers-wrapper").style="display:flex",setTimeout((function(){document.querySelector(".weather-container").classList.remove("toright"),document.querySelector(".bottom-containers-wrapper").classList.remove("tobottom")}),10)}));n("4NM0");function L(e,t){return 1,20,Math.floor(19*Math.random())+1}document.querySelector(".talk-btn").addEventListener("click",(function(){var e=new(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition);e.lang="ru-RU",e.onresult=function(e){var t=e.results[0][0].transcript;M.value=t,""!==M.value&&(a(t).then((function(e){var t;i(Object.values(e.sys.country).join("")),function(e){if(200===e.cod){var t="http://openweathermap.org/img/wn/"+e.weather[0].icon+"@2x.png",n=new Date(1e3*e.dt);_.weatherIcon.src=t,_.weatherIcon.classList.add("visible"),_.weatherCity.textContent=e.name+", "+e.sys.country,_.currentTemp.textContent=""+e.main.temp.toFixed(1),_.minTemp.textContent=""+e.main.temp_min.toFixed(1),_.maxTemp.textContent=""+e.main.temp_max.toFixed(1),_.currentDate.textContent=n.getDate(),_.currentDay.textContent=n.toLocaleDateString("en-US",{weekday:"short"}),_.currentMonth.textContent=n.toLocaleDateString("en-US",{month:"long"}),_.currentTimeHr.textContent=String(n.getHours()).padStart(2,0)+":",_.currentTimeMin.textContent=String(n.getMinutes()).padStart(2,0),_.sunrise.textContent=String(new Date(1e3*e.sys.sunrise).getHours()).padStart(2,0)+":"+String(new Date(1e3*e.sys.sunrise).getMinutes()).padStart(2,0),_.sunset.textContent=String(new Date(1e3*e.sys.sunset).getHours()).padStart(2,0)+":"+String(new Date(1e3*e.sys.sunset).getMinutes()).padStart(2,0)}}(e),t=e.name,s.fetchBgImage(t).then((function(e){e.hits[L()].largeImageURL,_.body.style.backgroundImage="url("+e.hits[L()].largeImageURL+")"})),function(e){if(_.saveCityBtn.classList.add("starred"),setTimeout((function(){_.saveCityBtn.classList.remove("starred")}),250),e&&!b.findedCities.includes(e)){b.findedCities.push(e),b.findedCities.length>=7&&b.findedCities.splice(0,1);var t=b.findedCities.map((function(e){return"\n\t\t  <div id="+e+' class="btn-wrapper">\n\t\t\t<span class="added-city">'+e+'</span>\n\t\t\t<button class="cross-btn" data-id='+e+"></button>\n\t\t  </div>"})).join("");_.citiesContainer.innerHTML=t,_.input.value="",localStorage.setItem("Cities",JSON.stringify(b.findedCities))}}(e.name);var n=e.coord.lon,a=e.coord.lat,o=new google.maps.Map(document.getElementById("map"),{center:new google.maps.LatLng(a,n),mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:11}),r=((new Date).getTime(),new google.maps.ImageMapType({getTileUrl:function(e,t){return"https://tiles.aqicn.org/tiles/usepa-aqi/"+t+"/"+e.x+"/"+e.y+".png?token=_TOKEN_ID_"},name:"Air  Quality"}));o.overlayMapTypes.insertAt(0,r)})),u(t).then((function(e){p(e)})))},e.start()}));var M=document.querySelector(".main-input"),_={body:document.querySelector("body"),input:document.querySelector(".main-input"),citiesMemory:document.querySelector(".added-city"),deleteCityBtn:document.querySelector(".cross-btn"),saveCityBtn:document.querySelector(".save-btn"),citiesContainer:document.querySelector(".favorit"),weatherContainerLocation:document.querySelector(".city"),weatherCity:document.getElementById("weather_city"),currentTemp:document.getElementById("weather_temp"),minTemp:document.getElementById("weather-min_temp"),maxTemp:document.getElementById("weather-max_temp"),weatherIcon:document.getElementById("weather_icon"),currentDate:document.getElementById("date"),currentDay:document.getElementById("day"),currentMonth:document.getElementById("month"),currentTimeHr:document.getElementById("current-time-hr"),currentTimeMin:document.getElementById("current-time-min"),sunrise:document.getElementById("sunrise"),sunset:document.getElementById("sunset")}},qlKC:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var r,i=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,s="function",l=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return' <li class="list--item">\r\n        <h2 class="name--day">'+l(typeof(r=null!=(r=u(n,"name")||(null!=t?u(t,"name"):t))?r:c)===s?r.call(i,{name:"name",hash:{},data:o,loc:{start:{line:2,column:30},end:{line:2,column:38}}}):r)+'</h2>\r\n        <p class="date-yarik">'+l(typeof(r=null!=(r=u(n,"date")||(null!=t?u(t,"date"):t))?r:c)===s?r.call(i,{name:"date",hash:{},data:o,loc:{start:{line:3,column:30},end:{line:3,column:38}}}):r)+'</p>\r\n        <div class="icon--overley">\r\n          <img src='+l(typeof(r=null!=(r=u(n,"icon")||(null!=t?u(t,"icon"):t))?r:c)===s?r.call(i,{name:"icon",hash:{},data:o,loc:{start:{line:5,column:19},end:{line:5,column:27}}}):r)+' class="icon--weather"/>\r\n        </div>\r\n        <div class="temp">\r\n          <p class="min-temp">min <br> <span class="num">'+l(typeof(r=null!=(r=u(n,"min")||(null!=t?u(t,"min"):t))?r:c)===s?r.call(i,{name:"min",hash:{},data:o,loc:{start:{line:8,column:57},end:{line:8,column:64}}}):r)+'</span> </p>\r\n          <div class="line"></div>\r\n          <p class="max-temp">max <br> <span class="num">'+l(typeof(r=null!=(r=u(n,"max")||(null!=t?u(t,"max"):t))?r:c)===s?r.call(i,{name:"max",hash:{},data:o,loc:{start:{line:10,column:57},end:{line:10,column:64}}}):r)+"</span></p>\r\n        </div>\r\n</li>"},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.785d239437d371eda0ca.js.map